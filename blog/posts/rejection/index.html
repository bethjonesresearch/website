<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-05-06">
<meta name="description" content="Personal website with blogs on academia and social science research.">

<title>My (very well used) academic rejection tips and tricks – Dr Beth Jones</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-0cdc1420ebe241d6dbb6fcbda068a7e6.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: cbf4f7;
      }

      .quarto-title-block .quarto-title-banner {
        color: cbf4f7;
background: #000000;
      }
</style>


<link rel="stylesheet" href="../../../files/styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dr Beth Jones</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../publications/index.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contact/index.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">My (very well used) academic rejection tips and tricks</h1>
                  <div>
        <div class="description">
          Paper or grant rejection got you down? This is what I do to get over the slump.
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2024-05-06</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">2025-11-02</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tip-1-update-your-managerco-applicants-and-turn-your-email-off" id="toc-tip-1-update-your-managerco-applicants-and-turn-your-email-off" class="nav-link active" data-scroll-target="#tip-1-update-your-managerco-applicants-and-turn-your-email-off">Tip #1: Update your manager/co-applicants, and turn your email off</a></li>
  <li><a href="#tip-2-take-time-to-feel-the-disappointment" id="toc-tip-2-take-time-to-feel-the-disappointment" class="nav-link" data-scroll-target="#tip-2-take-time-to-feel-the-disappointment">Tip #2: Take time to feel the disappointment</a></li>
  <li><a href="#tip-3-do-the-stuff-that-makes-you-feel-better" id="toc-tip-3-do-the-stuff-that-makes-you-feel-better" class="nav-link" data-scroll-target="#tip-3-do-the-stuff-that-makes-you-feel-better">Tip #3: Do the stuff that makes you feel better</a></li>
  <li><a href="#tip-4-looking-after-yourself" id="toc-tip-4-looking-after-yourself" class="nav-link" data-scroll-target="#tip-4-looking-after-yourself">Tip #4: Looking after yourself</a></li>
  <li><a href="#tip-5-in-time-review-the-feedback-and-consider-a-next-step" id="toc-tip-5-in-time-review-the-feedback-and-consider-a-next-step" class="nav-link" data-scroll-target="#tip-5-in-time-review-the-feedback-and-consider-a-next-step">Tip #5: In time, review the feedback and consider a next step</a></li>
  <li><a href="#tip-6-dont-be-put-off-trying-again" id="toc-tip-6-dont-be-put-off-trying-again" class="nav-link" data-scroll-target="#tip-6-dont-be-put-off-trying-again">Tip #6: Don’t be put off trying again</a></li>
  <li><a href="#in-summary" id="toc-in-summary" class="nav-link" data-scroll-target="#in-summary">In summary,</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I first wrote this blog draft back in 2022, and it has been edited and resurrected for this version of my site. If you’ve been a reader for a while, you may read this before. I hope it’s just as useful this time around!</p>
</div>
</div>
<p>Working in academia means that you often need to apply for things (jobs, grant applications, fellowships) that are very competitive. <a href="https://www.timeshighereducation.com/news/ukri-success-rates-fall-grant-applications-ramp#:~:text=According%20to%20the%20latest%20figures,per%20cent%20the%20year%20before.">Statistics from UK Research and Innovation (UKRI)</a> suggest that the success rate from grant applications was 21% in 2021. This means that around 4 out of 5 people who applied for grants via UKRI competitive funding processes were left disappointed.</p>
<p>Rejection or not succeeding in applications is one thing, but the amount of work required to submit a grant application is often large. A fellowship application (a type of funding that is typically several years long and funds a specific researcher with a specific project they designed to develop as a researcher as well as carry out the project) can take months to develop and submit, sometimes with more t han one stage of the application. This can make the process of not getting funding feel all the more painful and personal.</p>
<p>The good news for you is that I have had a <strong>lot</strong> of practice at dealing with rejection. I’ve been very fortunate to have a few small successful grants (both leading the grant and as a co-applicant supporting other people’s work). Just by myself I’ve applied for (and been unsuccessful with) four different fellowship applications with more than one proposed project. That’s a lot of hard work and a lot of being disappointed. I’ve found that I really enjoy developing my research ideas into a project and always really believe in the ideas I submit. I’ve gotten to interview stages, or fallen just short of getting funding so sometimes it’s been so close that I can find myself daydreaming about how much I’ll enjoy the project, or what it would be like to do it. I’ve become better at dusting myself off and grieving for the experiences I imagined having when developing the application.</p>
<p>In this blog post, I’m sharing my best advice and tips for coping with unsuccessful applications based on plenty of trial and error of what works for me.</p>
<section id="tip-1-update-your-managerco-applicants-and-turn-your-email-off" class="level3">
<h3 class="anchored" data-anchor-id="tip-1-update-your-managerco-applicants-and-turn-your-email-off">Tip #1: Update your manager/co-applicants, and turn your email off</h3>
<p>Emails or letters that open with “We are sorry to inform you…” are never welcome, let’s be honest. It’s tough, but it’s also tough to be the bearer of bad news to other people. It’s good practice to let your co-applicants who contributed to the application know that it has not been successful, as well as anyone who wrote a letter of support or similar. They will likely have to report on the outcome to their university systems and update their own records, and it’s courteous to let them know after they spent time helping.</p>
<p>In my experience, the kind of people who are so lovely that you want to work with them are also the kind of people to send generous and supportive emails expressing sympathies if you don’t get a grant application. I’m often not in the mental space to read those emails straight away, so I put them into a “Kind Emails” folder, to read a few weeks on when it doesn’t feel so raw and to keep for those difficult days. A few weeks later, they are often uplifting and encouraging boosts to my confidence.</p>
</section>
<section id="tip-2-take-time-to-feel-the-disappointment" class="level3">
<h3 class="anchored" data-anchor-id="tip-2-take-time-to-feel-the-disappointment">Tip #2: Take time to feel the disappointment</h3>
<p>The first time I got a rejection on a grant application it felt way more painful than I’d expected it to. I found myself playing down my disappointment to try and appear more “professional”, like I knew that this was a common outcome and I understood that it was part of academic life. The second time I tried to do the same thing, even though I’d adapted the first application based on feedback, strengthened it, and spent another 9 months going through the process of refining it, doing the admin for submission, and waiting for the outcome. I felt pretty glum, and worried that I didn’t have “what it took” to be an academic if I’d had these two unsuccessful applications in row. These days, with more experience of both types of grant application outcomes I know I need to create some space for me to feel sad, or angry, or disappointed, or like an imposter before I can move on. It takes so long to go through the application process that we should allow some time to say goodbye to the future we imagined when we planned the grant. I find this process tends to take a few days, and is usually less raw after a week.</p>
</section>
<section id="tip-3-do-the-stuff-that-makes-you-feel-better" class="level3">
<h3 class="anchored" data-anchor-id="tip-3-do-the-stuff-that-makes-you-feel-better">Tip #3: Do the stuff that makes you feel better</h3>
<p>In this time, do what feels good in the moment. I know that for me I feel better after some exercise (usually a run or weightlifting) with early 2000s emo music to help me get into the mindset of sitting with the disappointment rather than push it down, baths, and time spent video-calling my small nieces who make me laugh. Certain podcasts have also become part of my routine that talk about academia realistically rather than the rose-tinted lens. <a href="https://onthereg.buzzsprout.com/1187141/episodes/5729434-everything-is-terrible-but-at-least-we-have-pandemic-homewares">This episode</a> of a favourite podcast of mine, <em>On the Reg</em> talks about dealing with the emotional challenges of academia and gives me space to really feel any sadness about <em>what could have been</em>.It’s easy to only see other peoples’ successes, so this helps me to validate that we’re in a tough industry and in competitive roles.</p>
</section>
<section id="tip-4-looking-after-yourself" class="level3">
<h3 class="anchored" data-anchor-id="tip-4-looking-after-yourself">Tip #4: Looking after yourself</h3>
<p>I’ve talked a lot about how I respond to disappointment, but I also want to reflect on trying not to let difficult feelings about work take over. If you can, try not to think about work outside of work for too long. If you’re able to, try to stick to a regular sleep schedule and eat foods that feel good but also nourish your body, with some time outdoors, exercise, or movement if this is possible for you. You’ll find a routine that works for you through trial and error.</p>
</section>
<section id="tip-5-in-time-review-the-feedback-and-consider-a-next-step" class="level3">
<h3 class="anchored" data-anchor-id="tip-5-in-time-review-the-feedback-and-consider-a-next-step">Tip #5: In time, review the feedback and consider a next step</h3>
<p>I know I am not ready to review feedback and think about whether I can repackage and submit the work, or whether it is best to archive the project for at least a month after I get the response. After a while though, when I have more distance from the response I can step back and critically evaluate the project in light of the feedback.</p>
<p>Discuss the outcome and feedback with your team of co-applicants and supervisors to consider the next appropriate step. I submitted an amended grant application to 3 different funders (building on feedback each time) before deciding that it perhaps wasn’t the best time for this project and that I should build up underpinning evidence first.</p>
</section>
<section id="tip-6-dont-be-put-off-trying-again" class="level3">
<h3 class="anchored" data-anchor-id="tip-6-dont-be-put-off-trying-again">Tip #6: Don’t be put off trying again</h3>
<p>It’s not always easy to adapt and resubmit a grant, but you and your co-applicants and mentors believed in this idea enough to put in so much hard work to submit it. Lots and lots of unsuccessful applications represent ideas that are strong and will make the world better, so don’t think because it has been unsuccessful once that it will be unsuccessful again!</p>
</section>
<section id="in-summary" class="level3">
<h3 class="anchored" data-anchor-id="in-summary">In summary,</h3>
<p>Grant applications are a big part of working in academia, and lots of us are often high achievers not used to getting “no” as an answer. We put a lot of our time and our soul and our ideas into these applications. so it is understandably painful when we don’t get them. Taking time to feel sad about them, creating a routine of activities to help cope, and taking the time to critically reassess your next steps can help to make the disappointment bearable. I’d be really interested to hear how other people respond to setbacks like this!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/bethjonesresearch\.github\.io\/website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Any opinions expressed are my own. <a href="https://github.com/bethjonesresearch/website/issues">Report an issue</a> on GitHub.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This site is built using <a href="https://quarto.org"><img src="https://quarto.org/quarto.png" class="img-fluid" alt="quarto" width="80"></a></p>
</div>
  </div>
</footer>




</body></html>